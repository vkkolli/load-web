<ngx-datatable #myTable class="material striped" [columns]="columns" [columnMode]="ColumnMode" headerHeight="50"
  footerHeight="50" [limit]="10" [rowHeight]="'auto'" [rowClass]="getRowClass" [scrollbarV]="false" [scrollbarH]="true" [rows]="rows">

  <!-- Row Detail Template -->
  <ngx-datatable-row-detail [rowHeight]="'auto'" #myDetailRow (toggle)="onDetailToggle($event)">
    <ng-template let-row="row" ngx-datatable-row-detail-template>
      <div class="lbd-dtl-container">
        <div class="lbd-dtl-row">
          <div class="lbd-dtl-column">
            <div class="lbd-dtl-item">
              <div class="lbd-dtl-head">Commodity Name</div>
              <div class="lbd-dtl-data">{{row.commodityName}}</div>
            </div>
            <div class="lbd-dtl-item">
              <div class="lbd-dtl-head">Commodity Weight</div>
              <div class="lbd-dtl-data">{{row.commodityWeight}}</div>
            </div>
            <div class="lbd-dtl-item">
              <div class="lbd-dtl-head">Commodity Length</div>
              <div class="lbd-dtl-data">{{row.commodityLength}}</div>
            </div>
            <div class="lbd-dtl-item">
              <div class="lbd-dtl-head">Commodity Value</div>
              <div class="lbd-dtl-data">{{row.commodityValue}}</div>
            </div>
          </div>

          <div class="lbd-dtl-column">
            <div class="lbd-dtl-item">
              <div class="lbd-dtl-head">Carrier Name</div>
              <div class="lbd-dtl-data">{{row.carrierName}}</div>
            </div>
            <div class="lbd-dtl-item">
              <div class="lbd-dtl-head">Carrier Contact</div>
              <div class="lbd-dtl-data">{{row.carrierContact}}</div>
            </div>
            <div class="lbd-dtl-item">
              <div class="lbd-dtl-head">Email Id</div>
              <div class="lbd-dtl-data">{{row.carrierEmail}}</div>
            </div>
            <div class="lbd-dtl-item">
              <div class="lbd-dtl-head">Phone</div>
              <div class="lbd-dtl-data">{{row.carrierPhone}}</div>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
  </ngx-datatable-row-detail>

  <!-- Column Templates -->
  <ngx-datatable-column [width]="50" [resizeable]="false" [sortable]="false" [draggable]="false"
    [canAutoResize]="false" [frozenLeft]="true">
    <ng-template let-row="row" let-expanded="expanded" ngx-datatable-cell-template>
      <a href="javascript:void(0)" [class.datatable-icon-right]="!expanded" [class.datatable-icon-down]="expanded"
        title="Expand/Collapse Row" (click)="toggleExpandRow(row)">
      </a>
    </ng-template>
  </ngx-datatable-column>

  <ngx-datatable-column name="LoadId" [width]="70">
    <ng-template let-row="row" ngx-datatable-cell-template>
       <a [routerLink]="['/load/edit/', row.loadId]" > {{ row.loadId }} </a>
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="Age" [width]="80">
    <ng-template let-row="row"  ngx-datatable-cell-template>
      {{ row.age }}
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="Truck" [width]="70">
    <ng-template let-row="row" ngx-datatable-cell-template>
      {{ row.equipmentName }}
    </ng-template>
  </ngx-datatable-column>

  <ngx-datatable-column name="F/P" [width]="50">
    <ng-template let-row="row" ngx-datatable-cell-template>
      {{ row.loadType }}
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="Status" [width]="80">
    <ng-template let-row="row"  ngx-datatable-cell-template>
      {{ row.loadStatus }}
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="Origin" [width]="185">
    <ng-template let-row="row" ngx-datatable-cell-template>
      {{ row.originCsz }}
    </ng-template>
  </ngx-datatable-column>

  <ngx-datatable-column name="Trip" [width]="60">
    <ng-template let-row="row" ngx-datatable-cell-template>
      {{ row.mileage }}
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="Destination" [width]="185">
    <ng-template let-row="row"  ngx-datatable-cell-template>
      {{ row.destinationCsz }}
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="Company" [width]="135">
    <ng-template let-row="row" ngx-datatable-cell-template>
      {{ row.customerName }}
    </ng-template>
  </ngx-datatable-column>

  <ngx-datatable-column name="Cost" [width]="70">
    <ng-template let-row="row" ngx-datatable-cell-template>
      {{ row.revenueCost }}
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="Actual Pickup" [width]="150">
    <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="row.pickupDate" >
      <span
       title="Click to edit"
       (click)="pickupDateEditing[rowIndex] = true"
       *ngIf="!pickupDateEditing[rowIndex]">
       {{row.pickupDate}}
     </span>
     <mat-form-field  *ngIf="pickupDateEditing[rowIndex]">
      <input matInput [ngxMatDatetimePicker]="picker" placeholder="Choose datetime" (dateChange)="updatePickupDate($event, 'row.pickupDate', rowIndex)">
      <mat-datepicker-toggle matSuffix [for]="picker" ></mat-datepicker-toggle>
      <ngx-mat-datetime-picker #picker [showSpinners]=false [showSeconds]=false
         [stepHour]="1" [stepMinute]="5" [touchUi]="touchUi" [color]="color" [enableMeridian]="enableMeridian" 
         [disableMinute]=false [hideTime]= false> 
      </ngx-mat-datetime-picker>
   </mat-form-field>
   </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="Actual Delivery" [width]="150">
    <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="row.deliveryDate" >
      <span
       title="Click to edit"
       (click)="deliveryDateEditing[rowIndex] = true"
       *ngIf="!deliveryDateEditing[rowIndex]">
       {{row.deliveryDate}}
     </span>
     <mat-form-field  *ngIf="deliveryDateEditing[rowIndex]">
      <input matInput [ngxMatDatetimePicker]="picker" placeholder="Choose datetime" (dateChange)="updateDeliveryDate($event, 'row.deliveryDate', rowIndex)">
      <mat-datepicker-toggle matSuffix [for]="picker" ></mat-datepicker-toggle>
      <ngx-mat-datetime-picker #picker [showSpinners]=false [showSeconds]=false
         [stepHour]="1" [stepMinute]="5" [touchUi]="touchUi" [color]="color" [enableMeridian]="enableMeridian" 
         [disableMinute]=false [hideTime]= false> 
      </ngx-mat-datetime-picker>
   </mat-form-field>
   </ng-template>
  </ngx-datatable-column>
  
</ngx-datatable>